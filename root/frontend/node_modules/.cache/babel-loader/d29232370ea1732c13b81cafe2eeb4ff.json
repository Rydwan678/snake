{"ast":null,"code":"var _s = $RefreshSig$();\n\n/* eslint-disable @typescript-eslint/no-unused-vars */\n\n/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState, useRef } from \"react\";\nimport useGameLogic from \"./useGameLogic\";\nexport default function useGame(render) {\n  _s();\n\n  const gameLogic = useGameLogic();\n  const [gameData, setGameData] = useState(gameLogic.gameDataRef.current);\n  const renderFrequency = gameData.speed / 64;\n  let time = useRef(Date.now());\n  const newFrame = useRef(-1);\n\n  function loop() {\n    if (time.current > newFrame.current) {\n      newFrame.current = time.current + 1000;\n      console.log(\"test\");\n    }\n  }\n\n  useEffect(() => {\n    do {\n      time.current = Date.now();\n      loop();\n    } while (1 === 1);\n  }, []);\n  return { ...gameLogic,\n    gameData\n  };\n}\n\n_s(useGame, \"wCqH4AEX/NbVH3phFVzpGM4vqEs=\", false, function () {\n  return [useGameLogic];\n});","map":{"version":3,"names":["useEffect","useState","useRef","useGameLogic","useGame","render","gameLogic","gameData","setGameData","gameDataRef","current","renderFrequency","speed","time","Date","now","newFrame","loop","console","log"],"sources":["C:/Users/rydwan/Documents/GitHub/snake/src/components/GameSite/useGame.tsx"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-unused-vars */\r\n/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useEffect, useState, useRef } from \"react\";\r\nimport { start } from \"repl\";\r\nimport useGameLogic from \"./useGameLogic\";\r\n\r\nexport default function useGame(render: () => void) {\r\n  const gameLogic = useGameLogic();\r\n\r\n  const [gameData, setGameData] = useState(gameLogic.gameDataRef.current);\r\n\r\n  const renderFrequency = gameData.speed / 64;\r\n\r\n  let time = useRef<null | number>(Date.now());\r\n  const newFrame = useRef(-1);\r\n\r\n  function loop() {\r\n    if (time.current > newFrame.current) {\r\n      newFrame.current = time.current + 1000;\r\n      console.log(\"test\");\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    do {\r\n      time.current = Date.now();\r\n      loop();\r\n    } while (1 === 1);\r\n  }, []);\r\n\r\n  return { ...gameLogic, gameData };\r\n}\r\n"],"mappings":";;AAAA;;AACA;AACA,SAAgBA,SAAhB,EAA2BC,QAA3B,EAAqCC,MAArC,QAAmD,OAAnD;AAEA,OAAOC,YAAP,MAAyB,gBAAzB;AAEA,eAAe,SAASC,OAAT,CAAiBC,MAAjB,EAAqC;EAAA;;EAClD,MAAMC,SAAS,GAAGH,YAAY,EAA9B;EAEA,MAAM,CAACI,QAAD,EAAWC,WAAX,IAA0BP,QAAQ,CAACK,SAAS,CAACG,WAAV,CAAsBC,OAAvB,CAAxC;EAEA,MAAMC,eAAe,GAAGJ,QAAQ,CAACK,KAAT,GAAiB,EAAzC;EAEA,IAAIC,IAAI,GAAGX,MAAM,CAAgBY,IAAI,CAACC,GAAL,EAAhB,CAAjB;EACA,MAAMC,QAAQ,GAAGd,MAAM,CAAC,CAAC,CAAF,CAAvB;;EAEA,SAASe,IAAT,GAAgB;IACd,IAAIJ,IAAI,CAACH,OAAL,GAAeM,QAAQ,CAACN,OAA5B,EAAqC;MACnCM,QAAQ,CAACN,OAAT,GAAmBG,IAAI,CAACH,OAAL,GAAe,IAAlC;MACAQ,OAAO,CAACC,GAAR,CAAY,MAAZ;IACD;EACF;;EAEDnB,SAAS,CAAC,MAAM;IACd,GAAG;MACDa,IAAI,CAACH,OAAL,GAAeI,IAAI,CAACC,GAAL,EAAf;MACAE,IAAI;IACL,CAHD,QAGS,MAAM,CAHf;EAID,CALQ,EAKN,EALM,CAAT;EAOA,OAAO,EAAE,GAAGX,SAAL;IAAgBC;EAAhB,CAAP;AACD;;GAzBuBH,O;UACJD,Y"},"metadata":{},"sourceType":"module"}