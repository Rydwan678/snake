{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rydwan\\\\Desktop\\\\snakeTS\\\\my-app\\\\src\\\\components\\\\GameSite\\\\GameField.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useRef } from \"react\";\nimport useGame from \"./useGame\";\nimport Popup from \"./Popup\";\nimport CountingDown from \"./CountingDown\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function GameField(props) {\n  _s();\n\n  const snakeIcon = new Image();\n  snakeIcon.src = \"textures/snakegraphics.png\";\n  const appleIcon = new Image();\n  appleIcon.src = \"textures/apple.png\";\n  const brickIcon = new Image();\n  brickIcon.src = \"textures/brick.png\";\n  const canvasRef = useRef(null);\n  const focusRef = useRef();\n  const {\n    gameDataRef,\n    handleKeyDown,\n    startGame,\n    setRunning,\n    disableCounting,\n    setNewLevel\n  } = useGame(render);\n  const [score, setScore] = useState(0);\n  const [level, setLevel] = useState(gameDataRef.current.level);\n  const [isRunning, setIsRunning] = useState(gameDataRef.current.isRunning);\n  const [popup, setPopup] = useState({\n    isShown: false,\n    type: \"\"\n  });\n  const [isCounting, setIsCounting] = useState(true);\n  useEffect(() => {\n    setScore(gameDataRef.current.score);\n    setIsRunning(gameDataRef.current.isRunning);\n    setLevel(gameDataRef.current.level);\n    setPopup({ ...gameDataRef.current.popup\n    });\n    setIsCounting(gameDataRef.current.isCounting);\n    focusRef.current.focus();\n  }, [gameDataRef.current.snakePosition, gameDataRef.current.score, gameDataRef.current.isRunning, gameDataRef.current.level, gameDataRef.current.popup, gameDataRef.current.isCounting]);\n\n  function render() {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext(\"2d\");\n    canvas.width = \"1024\";\n    canvas.height = \"1024\";\n\n    const drawSnakeElements = (element, position) => {\n      let choosedElement = IMAGES[element];\n      let elementPosition = position;\n      ctx.drawImage(snakeIcon, choosedElement[0], choosedElement[1], 64, 64, elementPosition[0], elementPosition[1], 64, 64);\n    };\n\n    const chooseSnakeElement = () => {\n      const snakePosition = gameDataRef.current.snakePosition;\n      const applePosition = gameDataRef.current.applePosition;\n      ctx.drawImage(appleIcon, 0, 0, 64, 64, applePosition[0], applePosition[1], 64, 64);\n\n      for (let i = 0; i < snakePosition.length; i++) {\n        let currentElement = snakePosition[i];\n        let nextElement = snakePosition[i - 1];\n        let previousElement = snakePosition[i + 1]; // head\n\n        if (nextElement == undefined) {\n          for (let image in IMAGES) {\n            if (previousElement[0] - currentElement[0] === IMAGES[image][2] && previousElement[1] - currentElement[1] === IMAGES[image][3]) {\n              drawSnakeElements(image, snakePosition[i]);\n              break;\n            }\n          }\n        } // tail\n        else if (previousElement == undefined) {\n          for (let image in IMAGES) {\n            if (nextElement[0] - currentElement[0] === IMAGES[image][4] && nextElement[1] - currentElement[1] === IMAGES[image][5]) {\n              drawSnakeElements(image, snakePosition[i]);\n              break;\n            }\n          }\n        } // something else\n        else if (nextElement && previousElement) {\n          for (let image in IMAGES) {\n            if (previousElement[0] - currentElement[0] === IMAGES[image][2] && previousElement[1] - currentElement[1] === IMAGES[image][3] && nextElement[0] - currentElement[0] === IMAGES[image][4] && nextElement[1] - currentElement[1] === IMAGES[image][5] || previousElement[0] - currentElement[0] === IMAGES[image][4] && previousElement[1] - currentElement[1] === IMAGES[image][5] && nextElement[0] - currentElement[0] === IMAGES[image][2] && nextElement[1] - currentElement[1] === IMAGES[image][3]) {\n              drawSnakeElements(image, snakePosition[i]);\n              break;\n            }\n          }\n        }\n      }\n    };\n\n    const drawBricks = () => {\n      const bricksPosition = gameDataRef.current.bricksPosition;\n\n      for (let i = 0; i < bricksPosition.length; i++) {\n        let brickPositionX = bricksPosition[i][0];\n        let brickPositionY = bricksPosition[i][1];\n        ctx.drawImage(brickIcon, 0, 0, 64, 64, brickPositionX, brickPositionY, 64, 64);\n      }\n    };\n\n    chooseSnakeElement();\n    drawBricks();\n  }\n\n  const IMAGES = {\n    headTop: [192, 0, 0, 64, null, null],\n    headDown: [256, 64, 0, -64, null, null],\n    headRight: [256, 0, -64, 0, null, null],\n    headLeft: [192, 64, 64, 0, null, null],\n    tailTop: [192, 128, null, null, 0, -64],\n    tailDown: [256, 192, null, null, 0, 64],\n    tailRight: [256, 128, null, null, 64, 0],\n    tailLeft: [192, 192, null, null, -64, 0],\n    torsoHorizontal: [64, 0, -64, 0, 64, 0],\n    torsoVertical: [128, 64, 0, -64, 0, 64],\n    cornerTop: [0, 64, 64, 0, 0, -64],\n    cornerDown: [128, 0, -64, 0, 0, 64],\n    cornerLeft: [128, 128, 0, -64, -64, 0],\n    cornerRight: [0, 0, 0, 64, 64, 0]\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"game-field\",\n    tabIndex: 1,\n    ref: focusRef,\n    onKeyDown: isRunning ? handleKeyDown : () => {},\n    children: [isCounting && /*#__PURE__*/_jsxDEV(CountingDown, {\n      setRunning: setRunning,\n      disableCounting: disableCounting\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 9\n    }, this), popup.isShown && /*#__PURE__*/_jsxDEV(Popup, {\n      type: popup.type,\n      level: level,\n      changePage: props.changePage,\n      startGame: startGame,\n      setNewLevel: setNewLevel,\n      handleKeyDown: handleKeyDown\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"game-info\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"textures/apple.png\",\n        className: \"apple-icon\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: score\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"https://cdn3.iconfinder.com/data/icons/game-competition-flat/64/15_Top_Player_game_competition-512.png\",\n        className: \"level-icon\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: level\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"canvas-field\",\n      tabIndex: 0,\n      children: /*#__PURE__*/_jsxDEV(\"canvas\", {\n        ref: canvasRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 176,\n    columnNumber: 5\n  }, this);\n}\n\n_s(GameField, \"y0GPWBzq5hjmEJOVtp/s9gKHOk0=\", false, function () {\n  return [useGame];\n});\n\n_c = GameField;\n\nvar _c;\n\n$RefreshReg$(_c, \"GameField\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useGame","Popup","CountingDown","GameField","props","snakeIcon","Image","src","appleIcon","brickIcon","canvasRef","focusRef","gameDataRef","handleKeyDown","startGame","setRunning","disableCounting","setNewLevel","render","score","setScore","level","setLevel","current","isRunning","setIsRunning","popup","setPopup","isShown","type","isCounting","setIsCounting","focus","snakePosition","canvas","ctx","getContext","width","height","drawSnakeElements","element","position","choosedElement","IMAGES","elementPosition","drawImage","chooseSnakeElement","applePosition","i","length","currentElement","nextElement","previousElement","undefined","image","drawBricks","bricksPosition","brickPositionX","brickPositionY","headTop","headDown","headRight","headLeft","tailTop","tailDown","tailRight","tailLeft","torsoHorizontal","torsoVertical","cornerTop","cornerDown","cornerLeft","cornerRight","changePage"],"sources":["C:/Users/rydwan/Desktop/snakeTS/my-app/src/components/GameSite/GameField.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\nimport useGameLogic from \"./useGameLogic\";\r\nimport useGame from \"./useGame\";\r\nimport Popup from \"./Popup\";\r\nimport CountingDown from \"./CountingDown\";\r\n\r\nexport default function GameField(props) {\r\n  const snakeIcon = new Image();\r\n  snakeIcon.src = \"textures/snakegraphics.png\";\r\n  const appleIcon = new Image();\r\n  appleIcon.src = \"textures/apple.png\";\r\n  const brickIcon = new Image();\r\n  brickIcon.src = \"textures/brick.png\";\r\n\r\n  const canvasRef = useRef(null);\r\n  const focusRef = useRef();\r\n\r\n  const {\r\n    gameDataRef,\r\n    handleKeyDown,\r\n    startGame,\r\n    setRunning,\r\n    disableCounting,\r\n    setNewLevel,\r\n  } = useGame(render);\r\n  const [score, setScore] = useState(0);\r\n  const [level, setLevel] = useState(gameDataRef.current.level);\r\n  const [isRunning, setIsRunning] = useState(gameDataRef.current.isRunning);\r\n  const [popup, setPopup] = useState({\r\n    isShown: false,\r\n    type: \"\",\r\n  });\r\n  const [isCounting, setIsCounting] = useState(true);\r\n\r\n  useEffect(() => {\r\n    setScore(gameDataRef.current.score);\r\n    setIsRunning(gameDataRef.current.isRunning);\r\n    setLevel(gameDataRef.current.level);\r\n    setPopup({ ...gameDataRef.current.popup });\r\n    setIsCounting(gameDataRef.current.isCounting);\r\n    focusRef.current.focus();\r\n  }, [\r\n    gameDataRef.current.snakePosition,\r\n    gameDataRef.current.score,\r\n    gameDataRef.current.isRunning,\r\n    gameDataRef.current.level,\r\n    gameDataRef.current.popup,\r\n    gameDataRef.current.isCounting,\r\n  ]);\r\n\r\n  function render() {\r\n    const canvas = canvasRef.current;\r\n    const ctx = canvas.getContext(\"2d\");\r\n    canvas.width = \"1024\";\r\n    canvas.height = \"1024\";\r\n\r\n    const drawSnakeElements = (element, position) => {\r\n      let choosedElement = IMAGES[element];\r\n      let elementPosition = position;\r\n      ctx.drawImage(\r\n        snakeIcon,\r\n        choosedElement[0],\r\n        choosedElement[1],\r\n        64,\r\n        64,\r\n        elementPosition[0],\r\n        elementPosition[1],\r\n        64,\r\n        64\r\n      );\r\n    };\r\n\r\n    const chooseSnakeElement = () => {\r\n      const snakePosition = gameDataRef.current.snakePosition;\r\n      const applePosition = gameDataRef.current.applePosition;\r\n      ctx.drawImage(\r\n        appleIcon,\r\n        0,\r\n        0,\r\n        64,\r\n        64,\r\n        applePosition[0],\r\n        applePosition[1],\r\n        64,\r\n        64\r\n      );\r\n      for (let i = 0; i < snakePosition.length; i++) {\r\n        let currentElement = snakePosition[i];\r\n        let nextElement = snakePosition[i - 1];\r\n        let previousElement = snakePosition[i + 1];\r\n        // head\r\n        if (nextElement == undefined) {\r\n          for (let image in IMAGES) {\r\n            if (\r\n              previousElement[0] - currentElement[0] === IMAGES[image][2] &&\r\n              previousElement[1] - currentElement[1] === IMAGES[image][3]\r\n            ) {\r\n              drawSnakeElements(image, snakePosition[i]);\r\n              break;\r\n            }\r\n          }\r\n        }\r\n        // tail\r\n        else if (previousElement == undefined) {\r\n          for (let image in IMAGES) {\r\n            if (\r\n              nextElement[0] - currentElement[0] === IMAGES[image][4] &&\r\n              nextElement[1] - currentElement[1] === IMAGES[image][5]\r\n            ) {\r\n              drawSnakeElements(image, snakePosition[i]);\r\n              break;\r\n            }\r\n          }\r\n        }\r\n        // something else\r\n        else if (nextElement && previousElement) {\r\n          for (let image in IMAGES) {\r\n            if (\r\n              (previousElement[0] - currentElement[0] === IMAGES[image][2] &&\r\n                previousElement[1] - currentElement[1] === IMAGES[image][3] &&\r\n                nextElement[0] - currentElement[0] === IMAGES[image][4] &&\r\n                nextElement[1] - currentElement[1] === IMAGES[image][5]) ||\r\n              (previousElement[0] - currentElement[0] === IMAGES[image][4] &&\r\n                previousElement[1] - currentElement[1] === IMAGES[image][5] &&\r\n                nextElement[0] - currentElement[0] === IMAGES[image][2] &&\r\n                nextElement[1] - currentElement[1] === IMAGES[image][3])\r\n            ) {\r\n              drawSnakeElements(image, snakePosition[i]);\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n    const drawBricks = () => {\r\n      const bricksPosition = gameDataRef.current.bricksPosition;\r\n      for (let i = 0; i < bricksPosition.length; i++) {\r\n        let brickPositionX = bricksPosition[i][0];\r\n        let brickPositionY = bricksPosition[i][1];\r\n        ctx.drawImage(\r\n          brickIcon,\r\n          0,\r\n          0,\r\n          64,\r\n          64,\r\n          brickPositionX,\r\n          brickPositionY,\r\n          64,\r\n          64\r\n        );\r\n      }\r\n    };\r\n    chooseSnakeElement();\r\n    drawBricks();\r\n  }\r\n\r\n  const IMAGES = {\r\n    headTop: [192, 0, 0, 64, null, null],\r\n    headDown: [256, 64, 0, -64, null, null],\r\n    headRight: [256, 0, -64, 0, null, null],\r\n    headLeft: [192, 64, 64, 0, null, null],\r\n    tailTop: [192, 128, null, null, 0, -64],\r\n    tailDown: [256, 192, null, null, 0, 64],\r\n    tailRight: [256, 128, null, null, 64, 0],\r\n    tailLeft: [192, 192, null, null, -64, 0],\r\n    torsoHorizontal: [64, 0, -64, 0, 64, 0],\r\n    torsoVertical: [128, 64, 0, -64, 0, 64],\r\n    cornerTop: [0, 64, 64, 0, 0, -64],\r\n    cornerDown: [128, 0, -64, 0, 0, 64],\r\n    cornerLeft: [128, 128, 0, -64, -64, 0],\r\n    cornerRight: [0, 0, 0, 64, 64, 0],\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"game-field\"\r\n      tabIndex={1}\r\n      ref={focusRef}\r\n      onKeyDown={isRunning ? handleKeyDown : () => {}}\r\n    >\r\n      {isCounting && (\r\n        <CountingDown\r\n          setRunning={setRunning}\r\n          disableCounting={disableCounting}\r\n        />\r\n      )}\r\n      {popup.isShown && (\r\n        <Popup\r\n          type={popup.type}\r\n          level={level}\r\n          changePage={props.changePage}\r\n          startGame={startGame}\r\n          setNewLevel={setNewLevel}\r\n          handleKeyDown={handleKeyDown}\r\n        />\r\n      )}\r\n      <div className=\"game-info\">\r\n        <img src=\"textures/apple.png\" className=\"apple-icon\"></img>\r\n        <h1>{score}</h1>\r\n        <img\r\n          src=\"https://cdn3.iconfinder.com/data/icons/game-competition-flat/64/15_Top_Player_game_competition-512.png\"\r\n          className=\"level-icon\"\r\n        ></img>\r\n        <h1>{level}</h1>\r\n      </div>\r\n      <div className=\"canvas-field\" tabIndex={0}>\r\n        <canvas ref={canvasRef}></canvas>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}