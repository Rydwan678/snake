{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rydwan\\\\Documents\\\\GitHub\\\\snake\\\\root\\\\frontend\\\\src\\\\pages\\\\Register.tsx\",\n    _s = $RefreshSig$();\n\n/* eslint-disable no-useless-escape */\nimport React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Register() {\n  _s();\n\n  const [userData, setUserData] = useState({\n    name: \"\",\n    email: \"\",\n    dateOfBirth: \"\",\n    password: \"\"\n  });\n  const [info, setInfo] = useState(\"\");\n\n  async function validateUserData() {\n    try {\n      await validateName();\n      await validateEmail();\n      await validatePassword();\n      registerUser();\n    } catch (error) {\n      setInfo(`${error}`);\n    }\n  }\n\n  React.useEffect(() => {\n    console.log(userData);\n  }, [userData]);\n\n  function updateUserData(e) {\n    setUserData(previousUserData => ({ ...previousUserData,\n      [e.target.name]: e.target.value\n    }));\n  }\n\n  async function registerUser() {\n    try {\n      const response = await fetch(\"http://127.0.0.1:5500/register\", {\n        method: \"POST\",\n        body: JSON.stringify(userData),\n        headers: {\n          \"Content-type\": \"application/json\"\n        }\n      });\n      const data = await response.json();\n      setInfo(data.message);\n    } catch (error) {\n      setInfo(JSON.stringify(error));\n    }\n  }\n\n  function validateName() {\n    return new Promise((resolve, reject) => {\n      if (userData.name.length <= 20) {\n        resolve(\"success\");\n      } else {\n        reject(\"Username can't be longer than 20 characters\");\n      }\n    });\n  }\n\n  function validateEmail() {\n    return new Promise((resolve, reject) => {\n      if (userData.email.match(/^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/)) {\n        resolve(\"success\");\n      } else {\n        reject(\"Your email should look like this: example@domain.com\");\n      }\n    });\n  }\n\n  function validatePassword() {\n    return new Promise((resolve, reject) => {\n      if (userData.password.length < 5) {\n        reject(\"Your password should have at least 5 characters\");\n      } else if (userData.password.search(/[A-Z]/) < 0) {\n        reject(\"Your password should have at least one upper case letter\");\n      } else if (userData.password.search(/[0-9]/) < 0) {\n        reject(\"Your password should have at least one number\");\n      } else {\n        resolve(\"success\");\n      }\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"user-login\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login-inputs\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"name\",\n          onChange: e => updateUserData(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"email@domain.org\",\n          name: \"email\",\n          onChange: e => updateUserData(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Date of birth\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          name: \"dateOfBirth\",\n          onChange: e => updateUserData(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"password\",\n          onChange: e => updateUserData(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: validateUserData,\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"REGISTER\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Already have an account?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\xA0Sign In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }, this), info && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: info\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 16\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Register, \"K7AAH3kAZRLr2lJ3VXY22+ZzGz4=\");\n\n_c = Register;\n\nvar _c;\n\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["React","useState","Link","Register","userData","setUserData","name","email","dateOfBirth","password","info","setInfo","validateUserData","validateName","validateEmail","validatePassword","registerUser","error","useEffect","console","log","updateUserData","e","previousUserData","target","value","response","fetch","method","body","JSON","stringify","headers","data","json","message","Promise","resolve","reject","length","match","search"],"sources":["C:/Users/rydwan/Documents/GitHub/snake/root/frontend/src/pages/Register.tsx"],"sourcesContent":["/* eslint-disable no-useless-escape */\r\nimport React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function Register() {\r\n  const [userData, setUserData] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    dateOfBirth: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  const [info, setInfo] = useState(\"\");\r\n\r\n  async function validateUserData() {\r\n    try {\r\n      await validateName();\r\n      await validateEmail();\r\n      await validatePassword();\r\n      registerUser();\r\n    } catch (error) {\r\n      setInfo(`${error}`);\r\n    }\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    console.log(userData);\r\n  }, [userData]);\r\n\r\n  function updateUserData(e: React.ChangeEvent<HTMLInputElement>) {\r\n    setUserData((previousUserData) => ({\r\n      ...previousUserData,\r\n      [e.target.name]: e.target.value,\r\n    }));\r\n  }\r\n\r\n  async function registerUser() {\r\n    try {\r\n      const response = await fetch(\"http://127.0.0.1:5500/register\", {\r\n        method: \"POST\",\r\n        body: JSON.stringify(userData),\r\n        headers: {\r\n          \"Content-type\": \"application/json\",\r\n        },\r\n      });\r\n      const data = await response.json();\r\n      setInfo(data.message);\r\n    } catch (error) {\r\n      setInfo(JSON.stringify(error));\r\n    }\r\n  }\r\n\r\n  function validateName() {\r\n    return new Promise((resolve, reject) => {\r\n      if (userData.name.length <= 20) {\r\n        resolve(\"success\");\r\n      } else {\r\n        reject(\"Username can't be longer than 20 characters\");\r\n      }\r\n    });\r\n  }\r\n\r\n  function validateEmail() {\r\n    return new Promise((resolve, reject) => {\r\n      if (\r\n        userData.email.match(\r\n          /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\r\n        )\r\n      ) {\r\n        resolve(\"success\");\r\n      } else {\r\n        reject(\"Your email should look like this: example@domain.com\");\r\n      }\r\n    });\r\n  }\r\n\r\n  function validatePassword() {\r\n    return new Promise((resolve, reject) => {\r\n      if (userData.password.length < 5) {\r\n        reject(\"Your password should have at least 5 characters\");\r\n      } else if (userData.password.search(/[A-Z]/) < 0) {\r\n        reject(\"Your password should have at least one upper case letter\");\r\n      } else if (userData.password.search(/[0-9]/) < 0) {\r\n        reject(\"Your password should have at least one number\");\r\n      } else {\r\n        resolve(\"success\");\r\n      }\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div className=\"user-login\">\r\n      <div className=\"login-container\">\r\n        <div className=\"login-inputs\">\r\n          <h1>Register</h1>\r\n          <p>Name</p>\r\n          <input name=\"name\" onChange={(e) => updateUserData(e)}></input>\r\n          <p>Email</p>\r\n          <input\r\n            placeholder=\"email@domain.org\"\r\n            name=\"email\"\r\n            onChange={(e) => updateUserData(e)}\r\n          ></input>\r\n          <p>Date of birth</p>\r\n          <input\r\n            type=\"date\"\r\n            name=\"dateOfBirth\"\r\n            onChange={(e) => updateUserData(e)}\r\n          ></input>\r\n          <p>Password</p>\r\n          <input name=\"password\" onChange={(e) => updateUserData(e)}></input>\r\n          <button onClick={validateUserData}>\r\n            <p>REGISTER</p>\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div className=\"row-container\">\r\n        <p>Already have an account?</p>\r\n        <Link to=\"/\">\r\n          <p>&nbsp;Sign In</p>\r\n        </Link>\r\n      </div>\r\n      {info && <p>{info}</p>}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}